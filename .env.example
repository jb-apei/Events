# Events Project - Environment Configuration Template
# Copy this file to .env and fill in actual values
# NEVER commit .env file to git!

# =============================================================================
# DATABASE CONNECTIONS
# =============================================================================

# Transactional Database (Write Model) - Used by ProspectService, StudentService, InstructorService
ConnectionStrings__ProspectDb=Server=localhost,1433;Initial Catalog=EventsTransactional;User ID=sa;Password=YourStrong@Password;TrustServerCertificate=True
ConnectionStrings__StudentDb=Server=localhost,1433;Initial Catalog=EventsTransactional;User ID=sa;Password=YourStrong@Password;TrustServerCertificate=True
ConnectionStrings__InstructorDb=Server=localhost,1433;Initial Catalog=EventsTransactional;User ID=sa;Password=YourStrong@Password;TrustServerCertificate=True

# Read Model Database - Used by ProjectionService
ConnectionStrings__ProjectionDatabase=Server=localhost,1433;Initial Catalog=EventsReadModel;User ID=sa;Password=YourStrong@Password;TrustServerCertificate=True

# =============================================================================
# AZURE SERVICE BUS (Messaging)
# =============================================================================

# For local development, use Azurite emulator or Azure Service Bus connection string
# Azure Service Bus: Endpoint=sb://your-namespace.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=xxxxx
ServiceBus__ConnectionString=UseDevelopmentStorage=true
Azure__ServiceBus__ConnectionString=UseDevelopmentStorage=true

# Service Bus Queue Names
ServiceBus__ProspectCommandQueue=prospect-commands
ServiceBus__StudentCommandQueue=student-commands
ServiceBus__InstructorCommandQueue=instructor-commands

# =============================================================================
# AZURE EVENT GRID (Event Publishing)
# =============================================================================

# Event Grid Topic Endpoints
EventGrid__ProspectTopicEndpoint=https://your-topic.westus2-1.eventgrid.azure.net/api/events
EventGrid__StudentTopicEndpoint=https://your-topic.westus2-1.eventgrid.azure.net/api/events
EventGrid__InstructorTopicEndpoint=https://your-topic.westus2-1.eventgrid.azure.net/api/events

# Event Grid Topic Keys (Sensitive!)
EventGrid__ProspectTopicKey=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
EventGrid__StudentTopicKey=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
EventGrid__InstructorTopicKey=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# API GATEWAY CONFIGURATION
# =============================================================================

# API Gateway URL - Used by all services for WebSocket event push
ApiGateway__Url=http://localhost:8080
ApiGateway__PushEvents=true

# Frontend API Gateway URL (for React app)
API_GATEWAY_URL=http://localhost:8080

# =============================================================================
# AUTHENTICATION & AUTHORIZATION
# =============================================================================

# JWT Configuration
Jwt__Secret=your-super-secret-jwt-signing-key-at-least-32-characters-long
Jwt__Issuer=events-identity-service
Jwt__Audience=events-api
Jwt__ExpirationMinutes=60

# =============================================================================
# APPLICATION INSIGHTS (Observability)
# =============================================================================

# Azure Application Insights Connection String
APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx;IngestionEndpoint=https://xxx.applicationinsights.azure.com/

# OpenTelemetry Configuration
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=events-service

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================

# Environment: Development, Staging, Production
ASPNETCORE_ENVIRONMENT=Development

# Logging Level: Trace, Debug, Information, Warning, Error, Critical
Logging__LogLevel__Default=Information
Logging__LogLevel__Microsoft=Warning
Logging__LogLevel__System=Warning

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allowed Origins for CORS (comma-separated)
Cors__AllowedOrigins=http://localhost:3000,http://localhost:5173

# =============================================================================
# LOCAL DEVELOPMENT ONLY
# =============================================================================

# Azurite Connection Strings (for local Azure Storage emulation)
AzureWebJobsStorage=UseDevelopmentStorage=true
AZURE_STORAGE_CONNECTION_STRING=UseDevelopmentStorage=true

# SQL Server Local Container
SQL_SERVER_HOST=localhost
SQL_SERVER_PORT=1433
SQL_SERVER_USER=sa
SQL_SERVER_PASSWORD=YourStrong@Password

# =============================================================================
# PRODUCTION NOTES
# =============================================================================
# In production (Azure Container Apps), use:
# - Azure Key Vault for secrets (Jwt__Secret, SQL passwords, EventGrid keys)
# - Managed Identity for Azure services (Service Bus, Event Grid, SQL)
# - Container Apps environment variables (not .env file)
# - Connection strings should reference Key Vault: @Microsoft.KeyVault(SecretUri=https://your-vault.vault.azure.net/secrets/secret-name)
